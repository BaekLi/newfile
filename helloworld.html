<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
	td{
		width:60px;
		height:60px;
	}
</style>
</head>

<body>
<h1>Hello World!</h1>
<h2>Wlecome to listen UN Vliiage</h2>

<table border="1" id="tab">
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
</table>
<script type="text/javascript">
	function tabCell(){
		var tab=document.getElementById('tab');
		var rows=tab.rows;
		
		for (var i = 0; i < 3; i++) { //遍历所有行
			//var cells=rows[i].cells; //得到这一行的所有单元格
			for (var j = 0; j < 3; j++) {//给每一个单元格添加click事件
				rows[i].cells[j].onclick=function(){
					if (this.style.background=='') {
						this.style.background='pink'
					}else{
						this.style.background=''
					}
					var tabb=document.getElementById('tab');
					var row=tabb.rows;
					var e=e||window.event;
					var target=e.target||e.srcElement;
					if(target.tagName.toLowerCase() === "td") {
						var i = target.parentNode.rowIndex;
						var j = target.cellIndex;
					}
					if (i+1>=0&&j>=0&&i+1<3&&j<3&&row[i+1].cells[j].style.background=='') {
						row[i+1].cells[j].style.background='pink'
					}else{
						if(i+1>=0&&j>=0&&i+1<3&&j<3)
						row[i+1].cells[j].style.background=''
					}
					if (i-1>=0&&j>=0&&i-1<3&&j<3&&row[i-1].cells[j].style.background=='') {
						row[i-1].cells[j].style.background='pink'
					}else{
						if(i-1>=0&&j>=0&&i-1<3&&j<3)
						row[i-1].cells[j].style.background=''
					}
					if (i>=0&&j+1>=0&&i<3&&j+1<3&&row[i].cells[j+1].style.background=='') {
						row[i].cells[j+1].style.background='pink'
					}else{
						if(i>=0&&j+1>=0&&i<3&&j+1<3)
						row[i].cells[j+1].style.background=''
					}
					if (i>=0&&j-1>=0&&i<3&&j-1<3&&row[i].cells[j-1].style.background=='') {
						row[i].cells[j-1].style.background='pink'
					}else{
						if(i>=0&&j-1>=0&&i<3&&j-1<3)
						row[i].cells[j-1].style.background=''
					}
				}
			}
		}
	}
	tabCell()
</script>
</body>
</html>